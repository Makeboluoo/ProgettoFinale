<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Single Event Page</title>
</head>
<body>
<!--TO-DO cambia assolutamente tipo di vista: una tabella Ã¨ proprio brutta: pensa a da descrizione grande. Meglio fare una normale sezione con h1 etc.-->
<div th:if="${error!=null}">
  <h2 th:text="${error}"></h2>
</div>
<div th:if="${event!=null}">
<table class="table table-dark">
  <thead>
  <tr>
    <th scope="col">Title</th>
    <th scope="col">Description</th>
    <th scope="col">Date and Time</th>
    <th scope="col">Group</th>
    <th scope="col">Creator</th>


  </tr>
  </thead>
  <tbody>
  <tr>
    <td th:text="${event.getTitle()}"></td>
    <td th:text="${event.getDescription()}"></td>
    <td th:text="${event.getDateTime()}"></td>
    <td th:text="${event.getGroupName()}"></td>
    <td th:text="${event.getCreator()}"></td>
    <td>
      <form action="/event/participate" method="post">
        <input type="hidden" id="id_event" name="id_event" th:value="${event.getId()}"/>
        <input type="hidden" id="id_user" name="id_user" th:value="${event.getIdUser()}"/>
        <button type="submit">Participate!</button>
      </form>
    </td>
    <td>
      <form action="/event/resign" method="post">
        <input type="hidden" id="id_event1" name="id_event" th:value="${event.getId()}"/>
        <input type="hidden" id="id_user1" name="id_user" th:value="${event.getIdUser()}"/>
        <button type="submit">Resign!</button>
      </form>
    </td>
    <div th:if="${event.getRole().name()} == 'Administrator'">
      <td>
        <form action="/event/delete" method="post">
          <input type="hidden" id="id_event2" name="id_event" th:value="${event.getId()}"/>
          <button type="submit">Delete!</button>
        </form>
      </td>
    </div>
  </tr>
  </tbody>
</table>
</div>

<!-- TO-DO AGGIUNGI SEZIONE COMMENTI!-->
<!-- TO-DO AGGIUNGI SEZIONE PARTECIPANTI (visibile penso solo al creatore dell'evento)-->



<h2> <a href="/user/home">Torna alla home</a> </h2>

</body>
</html>